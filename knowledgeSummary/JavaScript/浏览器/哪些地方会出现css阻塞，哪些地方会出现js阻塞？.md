# 哪些地方会出现css阻塞，哪些地方会出现js阻塞？

## js 的阻塞特性：
所有浏览器在下载 JS 的时候，会阻止一切其他活动，比如其他资源的下载，内容的呈现等等。直到 JS 下载、解析、执行完毕后才开始继续并行下载其他资源并呈现内容。为了提高用户体验，新一代浏览器都支持并行下载 JS，但是 JS 下载仍然会阻塞其它资源的下载(例如.图片，css文件等)。

　　由于浏览器为了防止出现 JS 修改 DOM 树，需要重新构建 DOM 树的情况，所以就会阻塞其他的下载和呈现。

　　嵌入 JS 会阻塞所有内容的呈现，而外部 JS 只会阻塞其后内容的显示，2 种方式都会阻塞其后资源的下载。也就是说外部样式不会阻塞外部脚本的加载，但会阻塞外部脚本的执行。

　　CSS 怎么会阻塞加载了?CSS 本来是可以并行下载的，在什么情况下会出现阻塞加载了(在测试观察中，IE6 下 CSS 都是阻塞加载)

　　当 CSS 后面跟着嵌入的 JS 的时候，该 CSS 就会出现阻塞后面资源下载的情况。而当把嵌入 JS 放到 CSS 前面，就不会出现阻塞的情况了。

　　根本原因：因为浏览器会维持 html 中 css 和 js 的顺序，样式表必须在嵌入的 JS 执行前先加载、解析完。而嵌入的 JS 会阻塞后面的资源加载，所以就会出现上面 CSS 阻塞下载的情况。


## 嵌入JS应该放在什么位置?

- 1. 放在底部，虽然放在底部照样会阻塞所有呈现，但不会阻塞资源下载。

- 2. 如果嵌入JS放在head中，请把嵌入JS放在CSS头部。

- 3. 使用 defer(只支持IE)

- 4. 不要在嵌入的JS中调用运行时间较长的函数，如果一定要用，可以用 setTimeout 来调用

## Javascript无阻塞加载具体方式：

1. 将脚本放在底部。还是放在head中，用以保证在js加载前，能加载出正常显示的页面。