<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>demo</title>
</head>
<body>

    <div id='demo' class=""><span name="span1" class="span2">firstChild</span><span></span><span></span><span>lastChild</span></div>

    <img src="" name="myImage">


    <div id='div1' class="">
        <div class="name1 name2 name3"></div>
    </div>


    <button id='myButton'>111</button>
<script>

    /** 
     * 读取节点信息
    */
    var someNode = document.getElementById('demo');
    // console.log(someNode.parentNode)  //父节点
    // console.log(someNode.previousSibling) //同胞 前一个node
    // console.log(someNode.nextSibling)  //同胞 后一个node

    console.log(someNode.firstChild)
    console.log(someNode.lastChild)
    console.log(someNode.childNodes)

    // console.log(someNode.childNodes.item(3))
    // console.log(someNode.childNodes.length)

    
    // let arr = Array.prototype.slice.call(someNode.childNodes, 0)  //伪数组 -> 数组
    // console.log('arr:', arr)
    console.log(someNode.hasChildNodes()) //查看是否有子节点 返回布尔值

    /** 
     * 操作节点
     */
    someNode.appendChild(someNode.firstChild)  // 第一个节点 被放到了最后

    let myNode = someNode.firstChild;
    let newNode = document.createElement('LI')
    newNode.innerText = '111'
    newNode.id = 'MyId'
    newNode.textContent = '我出来啦'
    newNode.title = '鼠标移入'
    newNode.setAttribute('class', 'myLi')
    newNode.setAttribute('myData', 'myData')

    let myTextNode = document.createTextNode('hello,cheese');
    newNode.appendChild(myTextNode);

    newNode.normalize();// 合并相邻文本节点
    console.log('childs',newNode.childNodes)


    let splitText = newNode.firstChild.splitText(4) //截取文本节点
    console.log('splitText:', splitText)

    newNode.removeAttribute('myData')
    someNode.insertBefore(newNode, myNode)
    someNode.replaceChild(newNode, someNode.lastChild)

    let cloneNode = someNode.cloneNode(false) // 复制节点 参数： false > 不深层复制到子节点
    console.log(cloneNode)

    someNode.appendChild(cloneNode)


    document.documentElement //    <html>   
    document.body; //   <body>   
    document.doctype; //   <!DOCTYPE>


    document.URL
    document.referrer //前一个页面
    document.domain //域  ， 可以修改  跨域（内嵌页面）  www.baidu.com > baidu.com


    let htmls = document.getElementsByTagName('img')

    console.log(htmls) //HTMLCollection(3) [span, span, span]

    let named = htmls.namedItem('myImage')
    console.log(named)


    var id = newNode.attributes.getNamedItem('id').nodeValue
    var id = newNode.attributes['id'].nodeValue
    newNode.attributes['id'].nodeValue = 'otherId'
    console.log(id)


    document.createDocumentFragment()//文档片段， 防止 循环加入 ，浏览器不停渲染

    /** 
     * DOM扩展  querySelector()  querySelectorAll() 返回匹配的nodeList
    */

    document.querySelector('#demo')
    document.querySelector('body')
    document.querySelector('.myLi')
    document.querySelector('#demo span')

    document.querySelectorAll('#demo')
    
    // document.body.matchesSelector("body.myLi")  //浏览器一般不支持
    


    let myClassNames = document.getElementById('div1').getElementsByClassName('name1')
    console.log(myClassNames[0].classList)
    myClassNames[0].classList.remove('name2')
    myClassNames[0].classList.add('name4')
    myClassNames[0].classList.toggle('name5')

    console.log(myClassNames[0].classList.contains('name4'))

    let myButton = document.getElementById('myButton');
    myButton.focus()
    console.log(document.activeElement) // 获取有焦点的node
    console.log(document.hasFocus());  //true  不太好用呢...




    /** 
     * 自定义属性
    */

    var div = document.getElementById('div1');
    div1.dataset.appid = '12334';
    console.log(div1.dataset.appid)


    div.innerHTML = "<style type=\"text/css\">body {background-color: pink; }</style>"; 
    div.removeChild(div.firstChild);

    var text = '<a href=\'http://www.baidu.com\' onclick=\"alert(\'hahaha...\')"\>click me</a>'
    // var myText = window.toStaticHTML(text) // chrome 不支持  (去除事件类代码)
    // console.log(myText)

    document.getElementsByClassName('myLi')[0].innerText = 'hello world' //内部替换了 


    /** 
     *  滚动
     * */
    // document.body.scrollByPages(-1);
    // document.body.scrollByLines(5);
    // document.images[0].scrollIntoViewIfNeeded(); //scrollIntoView() 所有浏览器都支持
    


</script>

</body>
</html>